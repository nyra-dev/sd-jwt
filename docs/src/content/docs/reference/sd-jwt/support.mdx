---
title: Utilities & Support
sidebar:
  label: Utilities & Support
  order: 5
---

## `DigestCalculator`

Hashes base64url-encoded disclosures. Supported algorithms out of the box:

- `sha-256`
- `sha-384`
- `sha-512`

```php
use Nyra\SdJwt\Hash\DigestCalculator;

$digest = (new DigestCalculator())->calculate('sha-256', $encodedDisclosure);
```

## `RandomSaltGenerator`

Creates cryptographically secure random salts (128 bits by default).

```php
use Nyra\SdJwt\Random\RandomSaltGenerator;

$generator = new RandomSaltGenerator();
$salt = $generator->generate();
```

Pass a custom generator to `SdJwtIssuer` if you need to integrate with an external RNG or HSM.

## `Base64Url`

Helper with static `encode(string $data): string` and `decode(string $data): string` methods used internally. Throws `InvalidArgumentException` on malformed input.

## `Json`

Wrapper around `json_encode`/`json_decode` using `JSON_THROW_ON_ERROR` and UTF-8 settings consistent with JWT specs.

## `PathHelper`

Transforms between arrays of segments (`['address', 0, 'city']`) and canonical dot-and-bracket notation (`address[0].city`).

- `toString(array<int|string> $path): string`
- `fromString(string $path): array<int|string>`

Used by both issuer and holder code to ensure consistent addressing.

## `JwkConverter`

Converts public JWKs to PEM strings or `Firebase\JWT\Key` instances. Supports:

- Octet sequences (`kty="oct"`)
- RSA public keys (`kty="RSA"` with `n` and `e`)
- Elliptic curve keys (`kty="EC"` with coordinates `x` and `y`)

```php
use Nyra\SdJwt\Support\JwkConverter;

$key = JwkConverter::toKey($jwk, 'ES256');
```

Coordinate lengths are validated for recognized curves (P-256, P-384, P-521, secp256k1) to guard against malformed inputs.

These utilities are safe to use independently if you need to integrate with ecosystem components not directly covered by the higher-level APIs.
